{"uid":"f27575f1d15a5399","name":"Authentication User[Chromium]","fullName":"tests.ui.test_login_page.TestAuthentication#test_authentication_user","historyId":"d0a5e843238eda990e9ee772fffb6f1f","time":{"start":1770311993859,"stop":1770311999039,"duration":5180},"status":"failed","statusMessage":"AssertionError: Locator expected to have text 'History of Spendings'\nActual value: None\nError: element(s) not found \nCall log:\n  - Expect \"to_have_text\" with timeout 5000ms\n  - waiting for locator(\"[id=\\\"spendings\\\"]>h2\")","statusTrace":"self = <tests.ui.test_login_page.TestAuthentication object at 0x7fb2f463fc50>\nlogin_page = <app.pages.auth_page.AuthPage object at 0x7fb2eed07610>\nenvs = Envs(frontend_url='http://frontend.niffler.dc', gateway_url='http://gateway.niffler.dc:8090', registration_url='http:/...th_db_url='postgresql+psycopg2://postgres:secret@localhost:5432/niffler-auth', soap_address='http://localhost:8089/ws')\n\n    @allure.story(AllureStory.AUTHENTICATION)\n    @Pages.open_login_page\n    def test_authentication_user(self, login_page, envs):\n        login_page.login(envs.test_username, envs.test_password)\n>       login_page.spending_title_exists(\"History of Spendings\")\n\ntests/ui/test_login_page.py:25: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \napp/pages/auth_page.py:75: in spending_title_exists\n    self.spending_title.should_have_text(title)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <app.components.text.Text object at 0x7fb2eed0b850>\ntext = 'History of Spendings', kwargs = {}\nstep = 'Checking that text \"spending title\" has text \"History of Spendings\"'\nlocator = <Locator frame=<Frame name= url='http://auth.niffler.dc:9000/login?error'> selector='[id=\"spendings\"]>h2'>\n\n    def should_have_text(self, text: str, **kwargs) -> None:\n        step = f'Checking that {self.type_of} \"{self.name}\" has text \"{text}\"'\n        with allure.step(step):\n            locator = self.get_locator(**kwargs)\n            logger.info(step)\n>           expect(locator).to_have_text(text)\nE           AssertionError: Locator expected to have text 'History of Spendings'\nE           Actual value: None\nE           Error: element(s) not found \nE           Call log:\nE             - Expect \"to_have_text\" with timeout 5000ms\nE             - waiting for locator(\"[id=\\\"spendings\\\"]>h2\")\n\napp/components/base_component.py:39: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"[S] Base Url","time":{"start":1770311981082,"stop":1770311981082,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S]  Verify Url","time":{"start":1770311981082,"stop":1770311981082,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Delete Output Dir","time":{"start":1770311981083,"stop":1770311981083,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S]  Session Faker","time":{"start":1770311981083,"stop":1770311981084,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Pytestconfig","time":{"start":1770311981083,"stop":1770311981083,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Envs","time":{"start":1770311981085,"stop":1770311981087,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Playwright","time":{"start":1770311981088,"stop":1770311981523,"duration":435},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Save Allure Environment File","time":{"start":1770311981088,"stop":1770311981088,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Browser Type Launch Args","time":{"start":1770311981088,"stop":1770311981088,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Browser Type","time":{"start":1770311981523,"stop":1770311981523,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Connect Options","time":{"start":1770311981524,"stop":1770311981524,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Launch Browser","time":{"start":1770311981524,"stop":1770311981524,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Browser","time":{"start":1770311981524,"stop":1770311983222,"duration":1698},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S]  Pw Artifacts Folder","time":{"start":1770311991465,"stop":1770311991465,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Device","time":{"start":1770311991465,"stop":1770311991465,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Browser Context Args","time":{"start":1770311991465,"stop":1770311991465,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Output Path","time":{"start":1770311993055,"stop":1770311993056,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F]  Artifacts Recorder","time":{"start":1770311993056,"stop":1770311993056,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] New Context","time":{"start":1770311993056,"stop":1770311993056,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Context","time":{"start":1770311993057,"stop":1770311993066,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Page","time":{"start":1770311993066,"stop":1770311993100,"duration":34},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[F] Open Login Page","time":{"start":1770311993101,"stop":1770311993858,"duration":757},"status":"passed","steps":[{"name":"UI: open page","time":{"start":1770311993101,"stop":1770311993852,"duration":751},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'http://frontend.niffler.dc'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"UI: waiting for loading page","time":{"start":1770311993853,"stop":1770311993858,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"[F] Login Page","time":{"start":1770311993101,"stop":1770311993101,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Locator expected to have text 'History of Spendings'\nActual value: None\nError: element(s) not found \nCall log:\n  - Expect \"to_have_text\" with timeout 5000ms\n  - waiting for locator(\"[id=\\\"spendings\\\"]>h2\")","statusTrace":"self = <tests.ui.test_login_page.TestAuthentication object at 0x7fb2f463fc50>\nlogin_page = <app.pages.auth_page.AuthPage object at 0x7fb2eed07610>\nenvs = Envs(frontend_url='http://frontend.niffler.dc', gateway_url='http://gateway.niffler.dc:8090', registration_url='http:/...th_db_url='postgresql+psycopg2://postgres:secret@localhost:5432/niffler-auth', soap_address='http://localhost:8089/ws')\n\n    @allure.story(AllureStory.AUTHENTICATION)\n    @Pages.open_login_page\n    def test_authentication_user(self, login_page, envs):\n        login_page.login(envs.test_username, envs.test_password)\n>       login_page.spending_title_exists(\"History of Spendings\")\n\ntests/ui/test_login_page.py:25: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \napp/pages/auth_page.py:75: in spending_title_exists\n    self.spending_title.should_have_text(title)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <app.components.text.Text object at 0x7fb2eed0b850>\ntext = 'History of Spendings', kwargs = {}\nstep = 'Checking that text \"spending title\" has text \"History of Spendings\"'\nlocator = <Locator frame=<Frame name= url='http://auth.niffler.dc:9000/login?error'> selector='[id=\"spendings\"]>h2'>\n\n    def should_have_text(self, text: str, **kwargs) -> None:\n        step = f'Checking that {self.type_of} \"{self.name}\" has text \"{text}\"'\n        with allure.step(step):\n            locator = self.get_locator(**kwargs)\n            logger.info(step)\n>           expect(locator).to_have_text(text)\nE           AssertionError: Locator expected to have text 'History of Spendings'\nE           Actual value: None\nE           Error: element(s) not found \nE           Call log:\nE             - Expect \"to_have_text\" with timeout 5000ms\nE             - waiting for locator(\"[id=\\\"spendings\\\"]>h2\")\n\napp/components/base_component.py:39: AssertionError","steps":[{"name":"UI: login user","time":{"start":1770311993859,"stop":1770311994031,"duration":172},"status":"passed","steps":[{"name":"Fill input \"username\" to value \"niffler_st3\"","time":{"start":1770311993859,"stop":1770311993886,"duration":27},"status":"passed","steps":[{"name":"Getting locator name: \"input[name=username]\"","time":{"start":1770311993859,"stop":1770311993859,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fill input \"password\" to value \"Qwdr!ss2\"","time":{"start":1770311993886,"stop":1770311993895,"duration":9},"status":"passed","steps":[{"name":"Getting locator name: \"input[name=password]\"","time":{"start":1770311993886,"stop":1770311993886,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Clicking button with name \"submit\"","time":{"start":1770311993895,"stop":1770311994031,"duration":136},"status":"passed","steps":[{"name":"Getting locator name: \"button[type=submit]\"","time":{"start":1770311993895,"stop":1770311993895,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"username","value":"'niffler_st3'"},{"name":"password","value":"'Qwdr!ss2'"}],"stepsCount":6,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"UI: check spending page title text","time":{"start":1770311994032,"stop":1770311999037,"duration":5005},"status":"failed","statusMessage":"AssertionError: Locator expected to have text 'History of Spendings'\nActual value: None\nError: element(s) not found \nCall log:\n  - Expect \"to_have_text\" with timeout 5000ms\n  - waiting for locator(\"[id=\\\"spendings\\\"]>h2\")\n\n","statusTrace":"  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-e-2-e-tests-python/.venv/lib/python3.13/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-e-2-e-tests-python/app/pages/auth_page.py\", line 75, in spending_title_exists\n    self.spending_title.should_have_text(title)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-e-2-e-tests-python/app/components/base_component.py\", line 39, in should_have_text\n    expect(locator).to_have_text(text)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-e-2-e-tests-python/.venv/lib/python3.13/site-packages/playwright/sync_api/_generated.py\", line 20011, in to_have_text\n    self._sync(\n    ~~~~~~~~~~^\n        self._impl_obj.to_have_text(\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        )\n        ^\n    )\n    ^\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-e-2-e-tests-python/.venv/lib/python3.13/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ~~~~~~~~~~~^^\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-e-2-e-tests-python/.venv/lib/python3.13/site-packages/playwright/_impl/_assertions.py\", line 561, in to_have_text\n    await self._expect_impl(\n    ...<9 lines>...\n    )\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-e-2-e-tests-python/.venv/lib/python3.13/site-packages/playwright/_impl/_assertions.py\", line 85, in _expect_impl\n    raise AssertionError(\n        f\"{out_message}\\nActual value: {actual}{error_message} {format_call_log(result.get('log'))}\"\n    )\n","steps":[{"name":"Checking that text \"spending title\" has text \"History of Spendings\"","time":{"start":1770311994032,"stop":1770311999036,"duration":5004},"status":"failed","statusMessage":"AssertionError: Locator expected to have text 'History of Spendings'\nActual value: None\nError: element(s) not found \nCall log:\n  - Expect \"to_have_text\" with timeout 5000ms\n  - waiting for locator(\"[id=\\\"spendings\\\"]>h2\")\n\n","statusTrace":"  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-e-2-e-tests-python/app/components/base_component.py\", line 39, in should_have_text\n    expect(locator).to_have_text(text)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-e-2-e-tests-python/.venv/lib/python3.13/site-packages/playwright/sync_api/_generated.py\", line 20011, in to_have_text\n    self._sync(\n    ~~~~~~~~~~^\n        self._impl_obj.to_have_text(\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        )\n        ^\n    )\n    ^\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-e-2-e-tests-python/.venv/lib/python3.13/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ~~~~~~~~~~~^^\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-e-2-e-tests-python/.venv/lib/python3.13/site-packages/playwright/_impl/_assertions.py\", line 561, in to_have_text\n    await self._expect_impl(\n    ...<9 lines>...\n    )\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-e-2-e-tests-python/.venv/lib/python3.13/site-packages/playwright/_impl/_assertions.py\", line 85, in _expect_impl\n    raise AssertionError(\n        f\"{out_message}\\nActual value: {actual}{error_message} {format_call_log(result.get('log'))}\"\n    )\n","steps":[{"name":"Getting locator name: \"[id=\"spendings\"]>h2\"","time":{"start":1770311994032,"stop":1770311994032,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"title","value":"'History of Spendings'"}],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"bce8ff65208b97ae","name":"log","source":"bce8ff65208b97ae.txt","type":"text/plain","size":743}],"parameters":[],"stepsCount":10,"shouldDisplayMessage":true,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"new_context::0","time":{"start":1770311999044,"stop":1770311999053,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder::0","time":{"start":1770311999054,"stop":1770311999054,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder::0","time":{"start":1770311999054,"stop":1770311999055,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser::0","time":{"start":1770311999056,"stop":1770311999091,"duration":35},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1770311999092,"stop":1770311999096,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"save_allure_environment_file::0","time":{"start":1770311999097,"stop":1770311999097,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"feature","value":"Authentication"},{"name":"tag","value":"ACTIONS_UI"},{"name":"story","value":"Authentication"},{"name":"epic","value":"Niffler app"},{"name":"parentSuite","value":"tests.ui"},{"name":"suite","value":"test_login_page"},{"name":"subSuite","value":"TestAuthentication"},{"name":"host","value":"runnervmkj6or"},{"name":"thread","value":"9894-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.ui.test_login_page"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":["ACTIONS_UI"]},"source":"f27575f1d15a5399.json","parameterValues":["'chromium'"]}