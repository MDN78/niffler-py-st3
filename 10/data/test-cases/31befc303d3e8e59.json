{"uid":"31befc303d3e8e59","name":"test_add_empty_name_category[chromium]","fullName":"tests.ui.test_profile_page.TestCategories#test_add_empty_name_category","historyId":"7bcd6bc6cb3e7a6292d15f1b28d329df","time":{"start":1770317097363,"stop":1770317097363,"duration":0},"status":"broken","statusMessage":"sqlalchemy.exc.NoResultFound: No row was found when one was required","statusTrace":"auth_client = <clients.auth_client.AuthClient object at 0x7f8df5a87e00>\ndb_client = <databases.userdata_db.UserdataDb object at 0x7f8df51cc980>\n\n    @pytest.fixture(scope=\"session\", autouse=True)\n    def create_test_user(auth_client, db_client: UserdataDb):\n        \"\"\"Создание тестового пользователя перед всеми тестами\"\"\"\n>       existing_user = db_client.get_user(os.getenv(\"TEST_USERNAME\"))\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nconftest.py:77: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ndatabases/userdata_db.py:34: in get_user\n    return session.exec(statement).one()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.13/site-packages/sqlalchemy/engine/result.py:1815: in one\n    return self._only_one_row(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.engine.result.ScalarResult object at 0x7f8df4e409b0>\nraise_for_second_row = True, raise_for_none = True, scalar = False\n\n    def _only_one_row(\n        self,\n        raise_for_second_row: bool,\n        raise_for_none: bool,\n        scalar: bool,\n    ) -> Optional[_R]:\n        onerow = self._fetchone_impl\n    \n        row: Optional[_InterimRowType[Any]] = onerow(hard_close=True)\n        if row is None:\n            if raise_for_none:\n>               raise exc.NoResultFound(\n                    \"No row was found when one was required\"\n                )\nE               sqlalchemy.exc.NoResultFound: No row was found when one was required\n\n.venv/lib/python3.13/site-packages/sqlalchemy/engine/result.py:760: NoResultFound","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"[S] Pytestconfig","time":{"start":1770317096925,"stop":1770317096926,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Base Url","time":{"start":1770317096925,"stop":1770317096925,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S]  Verify Url","time":{"start":1770317096925,"stop":1770317096925,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S]  Session Faker","time":{"start":1770317096926,"stop":1770317096929,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Delete Output Dir","time":{"start":1770317096926,"stop":1770317096926,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Envs","time":{"start":1770317096929,"stop":1770317096932,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Auth Client","time":{"start":1770317096933,"stop":1770317096933,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Db Client","time":{"start":1770317096933,"stop":1770317097114,"duration":181},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"[S] Create Test User","time":{"start":1770317097114,"stop":1770317097151,"duration":37},"status":"broken","statusMessage":"sqlalchemy.exc.NoResultFound: No row was found when one was required\n","statusTrace":"  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-e-2-e-tests-python/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n          ^^^^^\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-e-2-e-tests-python/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-e-2-e-tests-python/.venv/lib/python3.13/site-packages/_pytest/setuponly.py\", line 36, in pytest_fixture_setup\n    return (yield)\n            ^^^^^\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-e-2-e-tests-python/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-e-2-e-tests-python/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 53, in run_old_style_hookwrapper\n    return result.get_result()\n           ~~~~~~~~~~~~~~~~~^^\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-e-2-e-tests-python/.venv/lib/python3.13/site-packages/pluggy/_result.py\", line 103, in get_result\n    raise exc.with_traceback(tb)\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-e-2-e-tests-python/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n          ^^^^^\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-e-2-e-tests-python/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-e-2-e-tests-python/.venv/lib/python3.13/site-packages/_pytest/fixtures.py\", line 1202, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-e-2-e-tests-python/.venv/lib/python3.13/site-packages/_pytest/fixtures.py\", line 915, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-e-2-e-tests-python/conftest.py\", line 77, in create_test_user\n    existing_user = db_client.get_user(os.getenv(\"TEST_USERNAME\"))\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-e-2-e-tests-python/databases/userdata_db.py\", line 34, in get_user\n    return session.exec(statement).one()\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-e-2-e-tests-python/.venv/lib/python3.13/site-packages/sqlalchemy/engine/result.py\", line 1815, in one\n    return self._only_one_row(\n           ~~~~~~~~~~~~~~~~~~^\n        raise_for_second_row=True, raise_for_none=True, scalar=False\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/home/runner/work/niffler-py-st3/niffler-py-st3/niffler-e-2-e-tests-python/.venv/lib/python3.13/site-packages/sqlalchemy/engine/result.py\", line 760, in _only_one_row\n    raise exc.NoResultFound(\n        \"No row was found when one was required\"\n    )\n","steps":[{"name":"DB: attach sql","time":{"start":1770317097131,"stop":1770317097131,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"264f0f9e4d49a15f","name":"select niffler-userdata","source":"264f0f9e4d49a15f.txt","type":"text/plain","size":27}],"parameters":[{"name":"cursor","value":"<cursor object at 0x7f8df4f1ab60; closed: 0>"},{"name":"statement","value":"'select pg_catalog.version()'"},{"name":"parameters","value":"immutabledict({})"},{"name":"context","value":"<sqlalchemy.dialects.postgresql.psycopg2.PGExecutionContext_psycopg2 object at 0x7f8df4f35e80>"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"DB: attach sql","time":{"start":1770317097132,"stop":1770317097133,"duration":1},"status":"passed","steps":[],"attachments":[{"uid":"90fd0bafeb16ddb3","name":"select niffler-userdata","source":"90fd0bafeb16ddb3.txt","type":"text/plain","size":23}],"parameters":[{"name":"cursor","value":"<cursor object at 0x7f8df4f1ab60; closed: 0>"},{"name":"statement","value":"'select current_schema()'"},{"name":"parameters","value":"immutabledict({})"},{"name":"context","value":"<sqlalchemy.dialects.postgresql.psycopg2.PGExecutionContext_psycopg2 object at 0x7f8df4e35090>"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"DB: attach sql","time":{"start":1770317097134,"stop":1770317097134,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"46f5c5a63b2faddf","name":"show niffler-userdata","source":"46f5c5a63b2faddf.txt","type":"text/plain","size":32}],"parameters":[{"name":"cursor","value":"<cursor object at 0x7f8df4f1ab60; closed: 0>"},{"name":"statement","value":"'show standard_conforming_strings'"},{"name":"parameters","value":"immutabledict({})"},{"name":"context","value":"<sqlalchemy.dialects.postgresql.psycopg2.PGExecutionContext_psycopg2 object at 0x7f8df4e35090>"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"DB: attach sql","time":{"start":1770317097148,"stop":1770317097149,"duration":1},"status":"passed","steps":[],"attachments":[{"uid":"ee46f0aef4215858","name":"SELECT niffler-userdata","source":"ee46f0aef4215858.txt","type":"text/plain","size":186}],"parameters":[{"name":"cursor","value":"<cursor object at 0x7f8df4e45a80; closed: 0>"},{"name":"statement","value":"'SELECT \"user\".id, \"user\".username, \"user\".currency, \"user\".firstname, \"user\".surname, \"user\".photo, \"user\".photo_small, \"user\".full_name \nFROM \"user\" \nWHERE \"user\".username = %(username_1)s'"},{"name":"parameters","value":"{'username_1': 'niffler_st3'}"},{"name":"context","value":"<sqlalchemy.dialects.postgresql.psycopg2.PGExecutionContext_psycopg2 object at 0x7f8df4f04510>"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":4,"shouldDisplayMessage":true,"attachmentsCount":4,"hasContent":true,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"story","value":"Category"},{"name":"feature","value":"Category"},{"name":"epic","value":"Niffler app"},{"name":"tag","value":"ACTIONS_UI"},{"name":"parentSuite","value":"tests.ui"},{"name":"suite","value":"test_profile_page"},{"name":"subSuite","value":"TestCategories"},{"name":"host","value":"runnervmkj6or"},{"name":"thread","value":"10047-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.ui.test_profile_page"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":["ACTIONS_UI"]},"source":"31befc303d3e8e59.json","parameterValues":["'chromium'"]}